<!doctype html>

<html lang="en-us">

	<head>
		<meta charset="utf-8">
		<title>A Better Way to Use Google Translate - Zach Denton</title>
		<meta name="author" content="Zach Denton">
		<meta name="description" content="A command-line interface to Google Translate.">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Share+Tech:400">
		<link rel="stylesheet" href="../css/main.css">
		
	</head>
	
	<body>
	
		<div id="banner"></div>
		<header role="banner">
			<h1><a href="../">Zach Denton</a></h1>
			<nav>
			<ul>
				<li><a href="../about/">About</a></li>
				<li><a href="../archives/">Blog</a></li>
				<li><a href="../project-euler-solutions/">Euler</a></li>
				<li><a href="https://github.com/zacharydenton">GitHub</a></li>
				<li><a href="../resume.pdf">Resume</a></li>
			</ul>
			</nav>
		</header>

		<article>
  <h1>A Better Way to Use Google Translate</h1>

  <p>Google Translate is an invaluable tool for anyone who lives in a world where multiple languages are spoken. No machine translation system is perfect, but the one Google has created is one of the best — and it’s constantly improving.</p>
<p>Typically, however, this artifact of power is accessed through a web interface. The reason I don’t like this is because it’s slow. You have to navigate to <a href="http://translate.google.com/" title="Google Translate">Google Translate</a>, select the input language, select the target language, type in your text, and then click “Translate”. But that’s not good enough for you, is it? You want to translate <code>das ist gut, ja?</code> and receive <code>this is good, yes?</code>!</p>
<p>To that end I have written a Python script which uses the Google Translate API to translate its input into a language of your choice. It automatically detects the input language and can translate into any language supported by Google Translate (over <del>9000</del> 50 at the time of writing). The script translates into English by default, but you can easily change this with the <code>-t</code> (<code>--target</code>) argument — allow me to demonstrate.</p>
<h2 id="examples">Examples</h2>
<h3 id="translate-to-english">Translate to English:</h3>
<pre><code>$ translate Hola! ¿Habla usted español?
Hello! Do you speak Spanish?</code></pre>
<h3 id="translate-to-swedish">Translate to Swedish:</h3>
<pre><code>$ translate -t sv Hello! Do you speak Spanish?
Hej! Talar du spanska?</code></pre>
<h3 id="translate-to-swedish-by-pipingfortune-totranslate">Translate to Swedish, by piping <code>fortune</code> to <code>translate</code>:</h3>
<pre><code>$ fortune -s | translate -t sv
&lt;james&gt; men, då jag använde en Atari, var jag mer sannolikt att vinna på lotteri i tio länder samtidigt, än att få snabbare X</code></pre>
<h2 id="installation">Installation</h2>
<p>To install this script, just <a href="https://gist.github.com/gists/736436/download" title="Download the script">save it</a> as translate, make it executable, and place it on your PATH. It’s written in Python, so you will need Python installed to run it. In addition, you will need the modules json (included in version 2.6 onwards) and argparse (included in version 2.7 onwards).</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co">#!/usr/bin/env python</span>
<span class="ch">import</span> sys
<span class="ch">import</span> json
<span class="ch">import</span> urllib
<span class="ch">import</span> urllib2
<span class="ch">import</span> argparse

<span class="kw">def</span> translate(target, text):
    api = <span class="st">&quot;https://www.googleapis.com/language/translate/v2?&quot;</span>
    api_key = <span class="st">&quot;AIzaSyBgBlJCogk_1Hd_7WaLQgLVbQss0_dvNUc&quot;</span>
    parameters = urllib.urlencode({
        <span class="st">'target'</span>: target,
        <span class="st">'key'</span>: api_key,
        <span class="co">'q'</span>: text
    })

    response = urllib2.urlopen(api + parameters)
    translations = json.loads(response.read())

    translated_text = translations[<span class="st">'data'</span>][<span class="st">'translations'</span>][<span class="dv">0</span>][<span class="st">'translatedText'</span>]
    <span class="kw">return</span> translated_text.encode(<span class="st">'utf-8'</span>)

<span class="kw">def</span> main():
    parser = argparse.ArgumentParser()
    parser.add_argument(<span class="st">'-t'</span>, <span class="st">'--target'</span>, default=<span class="st">&quot;en&quot;</span>, \
                        <span class="dt">help</span>=<span class="st">&quot;the language to translate into (default: en)&quot;</span>)
    parser.add_argument(<span class="st">'text'</span>, nargs=<span class="st">'*'</span>, <span class="dt">help</span>=<span class="st">&quot;the text to translate&quot;</span>)
    args = parser.parse_args()

    <span class="kw">if</span> args.text:
        text = <span class="st">' '</span>.join(args.text)
    <span class="kw">else</span>:
        text = sys.stdin.read()
    
    <span class="dt">print</span> translate(args.target, text)

<span class="kw">if</span> <span class="ot">__name__</span> == <span class="st">&quot;__main__&quot;</span>:
    main()</code></pre>
</article>


		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js"></script>
		<script src="../js/main.js"></script>
	</body>
</html>
