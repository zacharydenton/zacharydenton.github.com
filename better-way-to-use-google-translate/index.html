<!doctype html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<title>A Better Way to Use Google Translate - Zach Denton</title>
		<meta name="description" content="A command-line interface to Google Translate.">
		<meta name="author" content="Zach Denton">
		<link rel="alternate" type="application/+xml" title="Zach Denton" href="/atom.xml">
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.no-icons.min.css" rel="stylesheet">
		<link href="//netdna.bootstrapcdn.com/font-awesome/2.0/css/font-awesome.css" rel="stylesheet">
		<link href="/css/screen.css" rel="stylesheet" type="text/css">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
		<script src="/js/underscore-min.js"></script>
		<script src="/js/main.js"></script>
	</head>
	<body class="">
		<div id="meny">
			<h1><a href="/">Zach Denton</a></h1>
			<nav>
			<ul>
				<li><a href="/about/">About</a></li>
				<li><a href="/archives/">Archives</a></li>
				<li><a href="http://labs.zacharydenton.com/">Experiments</a></li>
				<li><a href="/project-euler-solutions/">Project Euler</a></li>
				<li><a href="/resume.pdf">Resume</a></li>
				<li><a href="http://feeds.feedburner.com/zacharydenton">RSS</a></li>
			</ul>
			</nav>
			<a id="email" href="mailto: z@chdenton.com"><i class="icon-envelope-alt"></i> z@chdenton.com</a>
		</div>
		<div id="content">
			<div class="column column-large">
    <div class="column-padding">
        <h1>A Better Way to Use Google Translate</h1>
        <p>Google Translate is an invaluable tool for anyone who lives in a world where multiple languages are spoken. No machine translation system is perfect, but the one Google has created is one of the best — and it’s constantly improving.</p>
<p>Typically, however, this artifact of power is accessed through a web interface. The reason I don’t like this is because it’s slow. You have to navigate to <a href="http://translate.google.com/" title="Google Translate">Google Translate</a>, select the input language, select the target language, type in your text, and then click “Translate”. But that’s not good enough for you, is it? You want to translate <code>das ist gut, ja?</code> and receive <code>this is good, yes?</code>!</p>
<p>To that end I have written a Python script which uses the Google Translate API to translate its input into a language of your choice. It automatically detects the input language and can translate into any language supported by Google Translate (over <del>9000</del> 50 at the time of writing). The script translates into English by default, but you can easily change this with the <code>-t</code> (<code>--target</code>) argument — allow me to demonstrate.</p>
<h2 id="examples">Examples</h2>
<h3 id="translate-to-english">Translate to English:</h3>
<pre><code>$ translate Hola! ¿Habla usted español?
Hello! Do you speak Spanish?</code></pre>
<h3 id="translate-to-swedish">Translate to Swedish:</h3>
<pre><code>$ translate -t sv Hello! Do you speak Spanish?
Hej! Talar du spanska?</code></pre>
<h3 id="translate-to-swedish-by-pipingfortune-totranslate">Translate to Swedish, by piping <code>fortune</code> to <code>translate</code>:</h3>
<pre><code>$ fortune -s | translate -t sv
&lt;james&gt; men, då jag använde en Atari, var jag mer sannolikt att vinna på lotteri i tio länder samtidigt, än att få snabbare X</code></pre>
<h2 id="installation">Installation</h2>
<p>To install this script, just <a href="https://gist.github.com/gists/736436/download" title="Download the script">save it</a> as translate, make it executable, and place it on your PATH. It’s written in Python, so you will need Python installed to run it. In addition, you will need the modules json (included in version 2.6 onwards) and argparse (included in version 2.7 onwards).</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co">#!/usr/bin/env python</span>
<span class="ch">import</span> sys
<span class="ch">import</span> json
<span class="ch">import</span> urllib
<span class="ch">import</span> urllib2
<span class="ch">import</span> argparse

<span class="kw">def</span> translate(target, text):
    api = <span class="st">&quot;https://www.googleapis.com/language/translate/v2?&quot;</span>
    api_key = <span class="st">&quot;AIzaSyBgBlJCogk_1Hd_7WaLQgLVbQss0_dvNUc&quot;</span>
    parameters = urllib.urlencode({
        <span class="co">&#39;target&#39;</span>: target,
        <span class="co">&#39;key&#39;</span>: api_key,
        <span class="co">&#39;q&#39;</span>: text
    })

    response = urllib2.urlopen(api + parameters)
    translations = json.loads(response.read())

    translated_text = translations[<span class="st">&#39;data&#39;</span>][<span class="st">&#39;translations&#39;</span>][<span class="dv">0</span>][<span class="st">&#39;translatedText&#39;</span>]
    <span class="kw">return</span> translated_text.encode(<span class="st">&#39;utf-8&#39;</span>)

<span class="kw">def</span> main():
    parser = argparse.ArgumentParser()
    parser.add_argument(<span class="st">&#39;-t&#39;</span>, <span class="st">&#39;--target&#39;</span>, default=<span class="st">&quot;en&quot;</span>, \
                        <span class="dt">help</span>=<span class="st">&quot;the language to translate into (default: en)&quot;</span>)
    parser.add_argument(<span class="st">&#39;text&#39;</span>, nargs=<span class="st">&#39;*&#39;</span>, <span class="dt">help</span>=<span class="st">&quot;the text to translate&quot;</span>)
    args = parser.parse_args()

    <span class="kw">if</span> args.text:
        text = <span class="st">&#39; &#39;</span>.join(args.text)
    <span class="kw">else</span>:
        text = sys.stdin.read()
    
    <span class="kw">print</span> translate(args.target, text)

<span class="kw">if</span> <span class="dt">__name__</span> == <span class="st">&quot;__main__&quot;</span>:
    main()</code></pre>
    </div>
</div>

			<div class="column column-small archives" id="recentposts">
				<div class="column-padding">
					<h1>Blog</h1>
					<article>
<time datetime="2012-12-28"><span class="line-left"></span>Dec 28 2012<span class="line-right"></span></time>
<h2><a class="title" href="/best-of-2012/">Best of 2012</a></h2>
<p>
Wherein I list the best books, movies, music, and websites of 2012.
</p>
</article>
<article>
<time datetime="2012-05-14"><span class="line-left"></span>May 14 2012<span class="line-right"></span></time>
<h2><a class="title" href="/export-facebook-contacts-with-android/">Export Facebook Contacts with Android</a></h2>
<p>
How to use a rooted Android phone to export your Facebook address book.
</p>
</article>
<article>
<time datetime="2011-12-29"><span class="line-left"></span>Dec 29 2011<span class="line-right"></span></time>
<h2><a class="title" href="/music-server-revisited-streaming-with-sshfs-and-mp3fs/">Music Server Revisited: Streaming with sshfs and mp3fs</a></h2>
<p>
Access a remote music collection seamlessly with user-space filesystems.
</p>
</article>
<article>
<time datetime="2011-12-29"><span class="line-left"></span>Dec 29 2011<span class="line-right"></span></time>
<h2><a class="title" href="/a-star-search-with-multiple-targets-and-sources/">A* Search with Multiple Targets and Sources</a></h2>
<p>
An extension of the A* algorithm to support pathfinding from many starting points to many goal points in a single pass.
</p>
</article>
<article>
<time datetime="2011-10-05"><span class="line-left"></span>Oct  5 2011<span class="line-right"></span></time>
<h2><a class="title" href="/iceland/">Iceland</a></h2>
<p>
I spent the final week of my trip exploring Iceland.
</p>
</article>
<article>
<time datetime="2011-10-04"><span class="line-left"></span>Oct  4 2011<span class="line-right"></span></time>
<h2><a class="title" href="/copenhagen/">Copenhagen</a></h2>
<p>
A brief visit to Copenhagen.
</p>
</article>
<article>
<time datetime="2011-10-04"><span class="line-left"></span>Oct  4 2011<span class="line-right"></span></time>
<h2><a class="title" href="/berlin/">Berlin</a></h2>
<p>
A great time in Berlin, especially in Kreuzberg.
</p>
</article>
<article>
<time datetime="2011-10-01"><span class="line-left"></span>Oct  1 2011<span class="line-right"></span></time>
<h2><a class="title" href="/vienna/">Vienna</a></h2>
<p>
Vienna is now among my favorite European cities.
</p>
</article>

					<hr class="short">
					<p class="centered"><strong><a href="/archives/">View All Posts</a></strong></p>
				</div>
			</div>
			<div class="column column-small">
				<div class="column-padding">
					<h1>Twitter</h1>
					<div id="tweets"></div>
					<p class="centered"><strong><a href="//twitter.com/zacharydenton">Twitter Stream</a></strong></p>
				</div>
			</div>
			<div class="column column-medium">
				<div class="column-padding">
					<div id="googleplus"></div>
					<p class="centered"><strong><a href="https://plus.google.com/103362376417669694940?rel=author">Google+ Profile</a></strong></p>
				</div>
			</div>
			<div class="column column-small">
				<div class="column-padding">
					<h1>GitHub</h1>
					<div id="github-feed"></div>
					<p class="centered"><strong><a href="//github.com/zacharydenton">GitHub Profile</a></strong></p>
				</div>
			</div>
			<div class="column column-small">
				<div class="column-padding">
					<h1>Music</h1>
					<div id="lastfm"></div>
					<p class="centered"><strong><a href="//last.fm/user/zacharydenton">Last.fm Stream</a></strong></p>
				</div>
			</div>
		</div>
	</body>
</html>
