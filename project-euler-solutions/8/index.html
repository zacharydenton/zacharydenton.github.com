<!doctype html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<title>Project Euler Problem 8 Solution - Zach Denton</title>
		<meta name="author" content="Zach Denton">
		<meta name="description" content="This page presents solutions to Project Euler Problem 8 in Haskell, Python and Ruby.">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<link href="http://fonts.googleapis.com/css?family=Cabin:400,600|Poly:400,400italic" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="../../css/main.css">
		
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
		
	</head>
	<body>
		<header role="banner">
			<h1><a href="../../">Zach Denton</a></h1>
			<nav>
			<ul>
				<li><a href="../../about/">About</a></li>
				<li><a href="../../archives/">Blog</a></li>
				<li><a href="../../project-euler-solutions/">Euler</a></li>
				<li><a href="https://github.com/zacharydenton">GitHub</a></li>
				<li><a href="../../resume.pdf">Resume</a></li>
			</ul>
			</nav>
			<a href="mailto:z@chdenton.com"><canvas></canvas></a>
		</header>

		<article>
  <h1>Project Euler Problem 8 Solution</h1>

  <h2 id="overview">Overview</h2>
<h3 id="question">Question</h3>
<p>Find the greatest product of five consecutive digits in the 1000-digit number.</p>
<pre><code>73167176531330624919225119674426574742355349194934
96983520312774506326239578318016984801869478851843
85861560789112949495459501737958331952853208805511
12540698747158523863050715693290963295227443043557
66896648950445244523161731856403098711121722383113
62229893423380308135336276614282806444486645238749
30358907296290491560440772390713810515859307960866
70172427121883998797908792274921901699720888093776
65727333001053367881220235421809751254540594752243
52584907711670556013604839586446706324415722155397
53697817977846174064955149290862569321978468622482
83972241375657056057490261407972968652414535100474
82166370484403199890008895243450658541227588666881
16427171479924442928230863465674813919123162824586
17866458359124566529476545682848912883142607690042
24219022671055626321111109370544217506941658960408
07198403850962455444362981230987879927244284909188
84580156166097919133875499200524063689912560717606
05886116467109405077541002256983155200055935729725
71636269561882670428252483600823257530420752963450</code></pre>
<h2 id="solutions">Solutions</h2>
<h3 id="haskell">Haskell</h3>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">parse ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> [<span class="dt">Int</span>]
parse <span class="fu">=</span> map (read <span class="fu">.</span> return) <span class="fu">.</span> concat <span class="fu">.</span> lines

<span class="ot">chunks ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [[a]]
chunks n l <span class="fu">|</span> length chunk <span class="fu">&lt;</span> n <span class="fu">=</span> []
           <span class="fu">|</span> otherwise <span class="fu">=</span> chunk <span class="fu">:</span> chunks n (tail l)
           <span class="kw">where</span> chunk <span class="fu">=</span> take n l

<span class="ot">largestProduct ::</span> [[<span class="dt">Int</span>]] <span class="ot">-&gt;</span> <span class="dt">Int</span>
largestProduct <span class="fu">=</span> maximum <span class="fu">.</span> map product

<span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> <span class="kw">do</span>
        str <span class="ot">&lt;-</span> readFile <span class="st">&quot;/home/zach/code/euler/008/numbers.txt&quot;</span>
        print <span class="fu">$</span> largestProduct <span class="fu">$</span> chunks <span class="dv">5</span> <span class="fu">$</span> parse str</code></pre>
<pre><code>$ time runhaskell great-prod.hs
real	0m0.815s
user	0m0.340s
sys	0m0.113s</code></pre>
<h3 id="python">Python</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co">#!/usr/bin/python</span>
numbers = <span class="st">'''</span>
<span class="st">73167176531330624919225119674426574742355349194934</span>
<span class="st">96983520312774506326239578318016984801869478851843</span>
<span class="st">85861560789112949495459501737958331952853208805511</span>
<span class="st">12540698747158523863050715693290963295227443043557</span>
<span class="st">66896648950445244523161731856403098711121722383113</span>
<span class="st">62229893423380308135336276614282806444486645238749</span>
<span class="st">30358907296290491560440772390713810515859307960866</span>
<span class="st">70172427121883998797908792274921901699720888093776</span>
<span class="st">65727333001053367881220235421809751254540594752243</span>
<span class="st">52584907711670556013604839586446706324415722155397</span>
<span class="st">53697817977846174064955149290862569321978468622482</span>
<span class="st">83972241375657056057490261407972968652414535100474</span>
<span class="st">82166370484403199890008895243450658541227588666881</span>
<span class="st">16427171479924442928230863465674813919123162824586</span>
<span class="st">17866458359124566529476545682848912883142607690042</span>
<span class="st">24219022671055626321111109370544217506941658960408</span>
<span class="st">07198403850962455444362981230987879927244284909188</span>
<span class="st">84580156166097919133875499200524063689912560717606</span>
<span class="st">05886116467109405077541002256983155200055935729725</span>
<span class="st">71636269561882670428252483600823257530420752963450</span>
<span class="st">'''</span>
numstring = numbers.strip().replace(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>, <span class="st">''</span>)
greatest_product = <span class="dv">0</span>

<span class="kw">for</span> i in <span class="dt">range</span>(<span class="dt">len</span>(numstring)):
    product = <span class="dv">1</span>
    substring = numstring[i:i<span class="dv">+5</span>]
    <span class="kw">for</span> digit in substring:
        product *= <span class="dt">int</span>(digit)
    <span class="kw">if</span> product &gt; greatest_product:
        greatest_product = product

<span class="dt">print</span> greatest_product</code></pre>
<pre><code>$ time pypy great_prod.py
real	0m0.063s
user	0m0.052s
sys	0m0.008s</code></pre>
<h3 id="ruby">Ruby</h3>
<pre class="sourceCode ruby"><code class="sourceCode ruby"><span class="kw">#!/usr/bin/env ruby</span>
numbers = &lt;&lt;<span class="kw">EOS</span>
<span class="ot">73167176531330624919225119674426574742355349194934</span>
<span class="ot">96983520312774506326239578318016984801869478851843</span>
<span class="ot">85861560789112949495459501737958331952853208805511</span>
<span class="ot">12540698747158523863050715693290963295227443043557</span>
<span class="ot">66896648950445244523161731856403098711121722383113</span>
<span class="ot">62229893423380308135336276614282806444486645238749</span>
<span class="ot">30358907296290491560440772390713810515859307960866</span>
<span class="ot">70172427121883998797908792274921901699720888093776</span>
<span class="ot">65727333001053367881220235421809751254540594752243</span>
<span class="ot">52584907711670556013604839586446706324415722155397</span>
<span class="ot">53697817977846174064955149290862569321978468622482</span>
<span class="ot">83972241375657056057490261407972968652414535100474</span>
<span class="ot">82166370484403199890008895243450658541227588666881</span>
<span class="ot">16427171479924442928230863465674813919123162824586</span>
<span class="ot">17866458359124566529476545682848912883142607690042</span>
<span class="ot">24219022671055626321111109370544217506941658960408</span>
<span class="ot">07198403850962455444362981230987879927244284909188</span>
<span class="ot">84580156166097919133875499200524063689912560717606</span>
<span class="ot">05886116467109405077541002256983155200055935729725</span>
<span class="ot">71636269561882670428252483600823257530420752963450</span>
<span class="kw">EOS</span>
numbers = numbers.split.join(<span class="st">''</span>)
max = <span class="dv">0</span>
numbers.split(<span class="st">''</span>).each_with_index <span class="kw">do</span> |char, i|
    product = numbers[i..i<span class="dv">+4</span>].each_char.inject(<span class="dv">1</span>) {|product, digit| product * digit.to_i}
    <span class="kw">if</span> product &gt; max
        max = product
    <span class="kw">end</span>
<span class="kw">end</span>
puts max</code></pre>
<pre><code>$ time ruby great_prod.rb
real	0m0.028s
user	0m0.027s
sys	0m0.002s</code></pre>
</article>


		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
		<script src="../../js/main.js"></script>
	</body>
</html>
