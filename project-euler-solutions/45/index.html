<!doctype html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<title>Project Euler Problem 45 Solution - Zach Denton</title>
		<meta name="author" content="Zach Denton">
		<meta name="description" content="This page presents solutions to Project Euler Problem 45 in Python and Ruby.">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Cabin:400,600">
		<link rel="stylesheet" href="../../ssp/source-serif-pro.css">
		<link rel="stylesheet" href="../../css/main.css">
		
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
  			tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  		});
		</script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
		
	</head>
	<body>
		<header role="banner">
			<h1><a href="../../">Zach Denton</a></h1>
			<nav>
			<ul>
				<li><a href="../../about/">About</a></li>
				<li><a href="../../archives/">Blog</a></li>
				<li><a href="../../project-euler-solutions/">Euler</a></li>
				<li><a href="https://github.com/zacharydenton">GitHub</a></li>
				<li><a href="../../resume.pdf">Resume</a></li>
			</ul>
			</nav>
			<a href="mailto:z@chdenton.com"><canvas></canvas></a>
		</header>

		<article>
  <h1>Project Euler Problem 45 Solution</h1>

  <h2 id="overview">Overview</h2>
<h3 id="question">Question</h3>
<p>Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:</p>
<p><br /><span class="math">$$\begin{aligned}
\text{Triangle} &amp; T_n=\frac{n(n+1)}{2} &amp; 1, 3, 6, 10, 15, \dots \\
\text{Pentagonal} &amp; P_n=\frac{n(3n−1)}{2} &amp; 1, 5, 12, 22, 35, \dots \\
\text{Hexagonal} &amp; H_n=n(2n−1) &amp; 1, 6, 15, 28, 45, \dots 
\end{aligned}$$</span><br /></p>
<p>It can be verified that <span class="math"><em>T</em><sub>285</sub> = <em>P</em><sub>165</sub> = <em>H</em><sub>143</sub> = 40755</span>.</p>
<p>Find the next triangle number that is also pentagonal and hexagonal.</p>
<h2 id="solutions">Solutions</h2>
<h3 id="python">Python</h3>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co">#!/usr/bin/env python</span>
<span class="kw">def</span> triangle(n):
    <span class="kw">return</span> n*(n<span class="dv">+1</span>)/<span class="dv">2</span>

<span class="kw">def</span> pentagonal(n):
    <span class="kw">return</span> n*(<span class="dv">3</span>*n<span class="dv">-1</span>)/<span class="dv">2</span>

<span class="kw">def</span> hexagonal(n):
    <span class="kw">return</span> n*(<span class="dv">2</span>*n<span class="dv">-1</span>)

<span class="kw">def</span> main():
    p = <span class="dt">set</span>(pentagonal(n) <span class="kw">for</span> n in <span class="dt">range</span>(<span class="dv">100000</span>))
    h = <span class="dt">set</span>(hexagonal(n) <span class="kw">for</span> n in <span class="dt">range</span>(<span class="dv">100000</span>))
    <span class="kw">for</span> n in <span class="dt">range</span>(<span class="dv">100000</span>):
        t = triangle(n)
        <span class="kw">if</span> t in p and t in h and t &gt; <span class="dv">40755</span>:
            <span class="dt">print</span> t

<span class="kw">if</span> <span class="ot">__name__</span> == <span class="st">&quot;__main__&quot;</span>:
    main()</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">time</span> python2 tri-pen-hex.py
<span class="kw">real</span>   0m0.150s
<span class="kw">user</span>   0m0.140s
<span class="kw">sys</span>    0m0.007s</code></pre>
<h3 id="ruby">Ruby</h3>
<pre class="sourceCode ruby"><code class="sourceCode ruby"><span class="kw">#!/usr/bin/env ruby</span>
require <span class="st">'set'</span>
p = (<span class="dv">1</span>..<span class="dv">100000</span>).map { |n| n*(<span class="dv">3</span>*n<span class="dv">-1</span>)/<span class="dv">2</span> }.to_set
h = (<span class="dv">1</span>..<span class="dv">100000</span>).map { |n| n*(<span class="dv">2</span>*n<span class="dv">-1</span>) }.to_set
puts (<span class="dv">286</span>..<span class="dv">100000</span>).map { |n| n*(n<span class="dv">+1</span>)/<span class="dv">2</span> }.detect { |t|
  p.include?(t) <span class="kw">and</span> h.include?(t)
}</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">time</span> ruby tri-pen-hex.rb
<span class="kw">real</span>   0m0.198s
<span class="kw">user</span>   0m0.173s
<span class="kw">sys</span>    0m0.023s</code></pre>
</article>


		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="../../js/main.js"></script>
	</body>
</html>
