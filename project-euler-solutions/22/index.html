<!doctype html>

<html lang="en-us">

    <head>
        <meta charset="utf-8">
        
        <title>Project Euler Problem 22 Solution - Zach Denton</title>
        
        <meta name="author" content="Zach Denton">
        <meta name="description" content="This page presents solutions to Project Euler Problem 22 in Haskell, Python and Ruby.">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Share+Tech:400">
        <link rel="stylesheet" href="../../css/main.css">
        
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
        });
        </script>
        <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-15976986-5', 'auto');
        ga('send', 'pageview');
        </script>
    </head>
    
    <body>
    
        <div id="banner"></div>
        <header id="header" role="banner">
            <h1><a href="../../">Zach Denton</a></h1>
            <nav>
            <ul>
                <li><a href="../../about/">About</a></li>
                <li><a href="../../archives/">Blog</a></li>
                <li><a href="../../project-euler-solutions/">Euler</a></li>
                <li><a href="https://github.com/zacharydenton">GitHub</a></li>
                <li><a href="../../resume.pdf">Resume</a></li>
            </ul>
            </nav>
        </header>
        <article>
  <h1>Project Euler Problem 22 Solution</h1>

  <h2 id="question">Question</h2>
<p>Using names.txt, a 46K text file containing over five-thousand first names, begin by sorting it into alphabetical order. Then working out the alphabetical value for each name, multiply this value by its alphabetical position in the list to obtain a name score.</p>
<p>For example, when the list is sorted into alphabetical order, COLIN, which is worth 3 + 15 + 12 + 9 + 14 = 53, is the 938th name in the list. So, COLIN would obtain a score of 938 * 53 = 49714.</p>
<p>What is the total of all the name scores in the file?</p>
<h2 id="haskell">Haskell</h2>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">import </span><span class="dt">Data.List</span> (sort)

<span class="ot">parse ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> [<span class="dt">String</span>]
parse <span class="fu">=</span> words <span class="fu">.</span> map replaceComma <span class="fu">.</span> filter notQuote <span class="kw">where</span>
    replaceComma <span class="ch">','</span> <span class="fu">=</span> <span class="ch">' '</span>
    replaceComma c <span class="fu">=</span> c
    notQuote <span class="fu">=</span> (<span class="fu">/=</span> <span class="ch">'&quot;'</span>)

<span class="ot">alphaIndex ::</span> <span class="dt">Char</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>
alphaIndex c <span class="fu">=</span> fromEnum c <span class="fu">-</span> <span class="dv">64</span>

<span class="ot">alphaScore ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>
alphaScore <span class="fu">=</span> sum <span class="fu">.</span> map alphaIndex

<span class="ot">totalScore ::</span> [<span class="dt">String</span>] <span class="ot">-&gt;</span> <span class="dt">Int</span>
totalScore names <span class="fu">=</span> sum <span class="fu">$</span> zipWith (<span class="fu">*</span>) (map alphaScore <span class="fu">$</span> sort names) [<span class="dv">1</span><span class="fu">..</span>]

<span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> <span class="kw">do</span>
        str <span class="ot">&lt;-</span> readFile <span class="st">&quot;/home/zach/code/euler/022/names.txt&quot;</span>
        print <span class="fu">$</span> totalScore <span class="fu">$</span> parse str</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">ghc</span> -O2 -o names names.hs
$ <span class="kw">time</span> ./names
<span class="kw">real</span>   0m0.019s
<span class="kw">user</span>   0m0.015s
<span class="kw">sys</span>    0m0.002s</code></pre>
<h2 id="python">Python</h2>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co">#!/usr/bin/env python</span>
<span class="ch">import</span> os
<span class="ch">from</span> string <span class="ch">import</span> ascii_uppercase

<span class="kw">def</span> calculate_score(name, index):
    alpha_score = <span class="dt">sum</span>(ascii_uppercase.index(letter)+<span class="dv">1</span> <span class="kw">for</span> letter in name)
    <span class="kw">return</span> index * alpha_score

<span class="kw">def</span> main():
    names_file = <span class="dt">open</span>(os.path.join(os.path.dirname(<span class="ot">__file__</span>), <span class="st">'names.txt'</span>))
    names_string = names_file.read()
    names = [name.strip(<span class="st">'&quot;'</span>) <span class="kw">for</span> name in names_string.split(<span class="st">','</span>)] 
    names.sort()
    <span class="dt">print</span> <span class="dt">sum</span>(calculate_score(name, index<span class="dv">+1</span>) <span class="kw">for</span> index, name in <span class="dt">enumerate</span>(names))
    names_file.close()

<span class="kw">if</span> <span class="ot">__name__</span> == <span class="st">&quot;__main__&quot;</span>:
    main()</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">time</span> python2 names.py
<span class="kw">real</span>   0m0.034s
<span class="kw">user</span>   0m0.027s
<span class="kw">sys</span>    0m0.004s</code></pre>
<h2 id="ruby">Ruby</h2>
<pre class="sourceCode ruby"><code class="sourceCode ruby"><span class="kw">#!/usr/bin/env ruby</span>

names = <span class="dt">File</span>.open(<span class="dt">File</span>.dirname(<span class="dv">__FILE__</span>) + <span class="st">'/names.txt'</span>).read.scan(<span class="ot">/\w+/</span>).sort
puts names.map { |name| 
  word_score = name.each_byte.map { |c| c - <span class="dv">64</span> }.reduce(:+)
  (names.index(name) + <span class="dv">1</span>) * word_score
}.reduce(:+)</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">time</span> ruby names.rb
<span class="kw">real</span>   0m1.019s
<span class="kw">user</span>   0m1.013s
<span class="kw">sys</span>    0m0.004s</code></pre>
</article>

        <script src="../../js/main.js"></script>
    </body>
</html>
